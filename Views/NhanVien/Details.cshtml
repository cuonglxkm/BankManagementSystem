@model BankManagementSystem.Models.NhanVien
@{
    ViewData["Title"] = "Chi tiết nhân viên";
}

<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0 text-primary"><i class="fas fa-user"></i> Chi tiết nhân viên</h1>
            </div>
            <div class="col-sm-6 text-right">
                <a class="btn btn-secondary btn-sm" asp-action="Index">
                    <i class="fas fa-arrow-left"></i> Quay lại danh sách
                </a>
                <a class="btn btn-warning btn-sm" asp-action="Edit" asp-route-id="@Model?.MaNhanVien">
                    <i class="fas fa-edit"></i> Sửa
                </a>
            </div>
        </div>
    </div>
</div>

<section class="content">
    <div class="container-fluid">
        <div class="card card-info">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-id-card"></i> Thông tin chi tiết</h3>
            </div>
            <div class="card-body p-0">
                <table class="table table-striped table-bordered mb-0">
                    <tr>
                        <th style="width:25%">Mã nhân viên</th>
                        <td>@Model.MaNhanVien</td>
                    </tr>
                    <tr>
                        <th>Họ tên</th>
                        <td>@Model.HoTen</td>
                    </tr>
                    <tr>
                        <th>Điện thoại</th>
                        <td>@Model.DienThoai</td>
                    </tr>
                    <tr>
                        <th>Email</th>
                        <td>@Model.Email</td>
                    </tr>
                    <tr>
                        <th>Chức vụ</th>
                        <td>@Model.ChucVu</td>
                    </tr>
                    <tr>
                        <th>Chi nhánh</th>
                        <td>@Model.MaChiNhanhNavigation?.TenChiNhanh</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</section>

<hr />
<h3>Bảng lương của nhân viên</h3>

@if (Model.BangLuongMaNhanVienNavigations.Any())
{
    <table class="table table-bordered table-striped">
        <thead class="table-light">
            <tr>
                <th>Mã bảng lương</th>
                <th>Kỳ lương</th>
                <th>Lương cơ bản</th>
                <th>Thưởng theo tài khoản</th>
                <th>Tổng lương</th>
                <th>Ngày tính</th>
                @* <th>Chi tiết</th> *@
            </tr>
        </thead>
        <tbody>
            @foreach (var bl in Model.BangLuongMaNhanVienNavigations)
            {
                <tr>
                    <td>@bl.MaBangLuong</td>
                    <td>@bl.MaKyLuong</td>
                    <td>@bl.LuongCoBan?.ToString("N0")</td>
                    <td>@bl.ThuongTheoTaiKhoan?.ToString("N0")</td>
                    <td>@bl.TongLuong?.ToString("N0")</td>
                    <td>@bl.NgayTinh?.ToString("dd/MM/yyyy")</td>
                    @* <td>
                        <a asp-controller="BangLuong" asp-action="Details" asp-route-id="@bl.MaBangLuong" class="btn btn-sm btn-info">
                            Xem
                        </a>
                    </td> *@
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p class="text-muted">Chưa có bảng lương nào.</p>
}

<hr />
<h3>Giao dịch của nhân viên</h3>

@if (Model.GiaoDiches.Any())
{
    <table class="table table-bordered table-striped">
        <thead class="table-light">
            <tr>
                <th>Mã giao dịch</th>
                <th>Thời gian giao dịch</th>
                <th>Loại giao dịch</th>
                <th>Số tiền</th>
                <th>Nguồn</th>
                <th>Ghi chú</th>
                <th>Số tài khoản nguồn</th>
                <th>Số tài khoản đích</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var bl in Model.GiaoDiches)
            {
                <tr>
                    <td>@bl.MaGiaoDich</td>
                    <td>@bl.ThoiGianGiaoDich.ToString("dd/MM/yyyy HH:mm:ss")</td>
                    <td>@bl.LoaiGiaoDich</td>
                    <td>@bl.SoTien.ToString("N0")</td>
                    <td>@bl.Nguon</td>
                    <td>@bl.GhiChu</td>
                    <td>@bl.SoTaiKhoanNguon</td>
                    <td>@bl.SoTaiKhoanDich</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p class="text-muted">Chưa có giao dịch nào.</p>
}

<hr />
<h3>Tài khoản</h3>

@if (Model.TaiKhoans.Any())
{
    <table class="table table-bordered table-striped">
        <thead class="table-light">
            <tr>
                <th>Số tài khoản</th>
                <th>Loại tài khoản</th>
                <th>Ngày mở</th>
                <th>Trạng thái</th>
                <th>Tiền tệ</th>
                <th>Mã khách hàng</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var bl in Model.TaiKhoans)
            {
                <tr>
                    <td>@bl.SoTaiKhoan</td>
                    <td>@bl.LoaiTaiKhoan</td>
                    <td>@bl.NgayMo.ToString("dd/MM/yyyy")</td>
                    <td>@bl.TrangThai</td>
                    <td>@bl.TienTe</td>
                    <td>@bl.MaKhachHang</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p class="text-muted">Chưa có tài khoản nào.</p>
}
